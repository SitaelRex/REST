<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, shrink-to-fit=no">
    <title>AllUsersList</title>

    <script
            src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
            crossorigin="anonymous"></script>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
            crossorigin="anonymous">
    <style>
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            height: 100vh;
            margin: 0;
            padding: 0;
            /*background-color: yellow;*/
        }

        .container-fluid {
            flex: 1;
            padding: 0;
        }

        .nav-pills {
            width: 100%;
        }

        .col-2 {
            padding-right: 0;
            padding-top: 10px;
        }

        body, html {
            overflow-x: hidden;
        }
    </style>
</head>
<body>
<!--<div th:insert="header :: copy"></div>  <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">1Company name</a>   <ul class="list-group list-group-horizontal-sm ">
       <li class="list-group-item rounded-0 border-0 bg-body text-white fw-bold pr-0" style="padding-right: 0%">Admin</li>
       <li class="list-group-item rounded-0 border-0 bg-body text-white">With Roles</li>
   </ul>-->
<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap  shadow">
    <!--TODO заменить admin на информацию об админе + выделение жирным шрифтом эл.почты-->
    <ul class="list-group list-group-horizontal-sm ">
        <li class="list-group-item rounded-0 border-0 bg-body text-white fw-bold pr-0">Admin</li>
    </ul>
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            <a class="nav-link" href="/logout">Logout</a>
        </li>
    </ul>
</nav>

<div class="container-fluid d-flex flex-column">
    <div class="row flex-fill d-flex">
        <div class="col-2">
            <ul class="nav nav-pills flex-column" id="v-pills-tab" role="navigation" aria-orientation="vertical">
                <li class="nav-item flex-fill" sec:authorize="hasRole('ADMIN')"><a href="#admin" class="nav-link"
                                                                                   th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? active : ''"
                                                                                   data-bs-toggle="tab">Админка</a></li>
                <li class="nav-item flex-fill" sec:authorize="hasRole('USER')"><a href="#user" class="nav-link"
                                                                                  th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : active"
                                                                                  data-bs-toggle="tab">Моя страница</a>
                </li>
            </ul>
        </div>
        <div class="col-10 bg-light">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="admin"
                     th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : 'd-none'">
                    <div class="container mt-2">
                        <h1>Панель Администратора</h1>
                        <ul class="nav nav-tabs mt-4">
                            <li class="nav-item"><a href="#home" class="nav-link active"
                                                    data-bs-toggle="tab">Список Пользователей</a></li>
                            <li class="nav-item"><a href="#aboutus" class="nav-link"
                                                    data-bs-toggle="tab">Новый пользователь</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="home">

                                <ul class="list-group">
                                    <li class="list-group-item bg-transparent">
                                        <h3>Список пользователей</h3>
                                    </li>
                                    <li class="list-group-item border-top">
                                        <table class="table table-striped table-borderless border-top mt-3 mb-5">
                                            <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Имя</th>
                                                <th>Фамилия</th>
                                                <th>Возраст</th>
                                                <th>Почта</th>
                                                <th>Роли</th>
                                                <th>Изменить</th>
                                                <th>Удалить</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="user : ${users}">
                                                <td>
                                                    <a th:text="${user.getFirstName()}"></a>
                                                    <!!--th:href="@{~/user/{id}(id=${user.getId()})}"
                                                </td>
                                                <td>
                                                    <a th:text="${user.getLastName()}"></a>
                                                </td>
                                                <td>
                                                    <a th:text="${user.getGroupId()}"></a>
                                                </td>
                                                <td>
                                                    <a th:text="1"></a>
                                                </td>
                                                <td>
                                                    <a th:text="1"></a>
                                                </td>
                                                <td>
                                                    <a th:text="1"></a>
                                                </td>
                                                <td>
                                                    <a th:text="1"></a>
                                                </td>
                                                <td>
                                                    <a th:text="1"></a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </li>
                                </ul>

                            </div>
                            <div class="tab-pane fade" id="aboutus">
                                <h3>About Us tab</h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut
                                    vel porta ex. Nam sit amet ex nec arcu consequat dictum eu nec
                                    velit. Sed mattis euismod malesuada. Donec mattis nibh a nulla
                                    dictum, in rutrum metus fringilla. Phasellus tincidunt euismod
                                    pellentesque. Curabitur eget est sagittis, pellentesque libero nec,
                                    ornare massa. Suspendisse non imperdiet sem, vel gravida odio.
                                    Pellentesque diam dui, venenatis quis metus et, luctus accumsan
                                    erat. Cras eget metus nisl. Vestibulum ante ipsum primis in
                                    faucibus orci luctus et ultrices posuere cubilia curae; Fusce
                                    tempor eget nisl id imperdiet. Cras ut convallis arcu, in tempor
                                    libero.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade show" id="user"
                     th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : 'active'">
                    <div class="container mt-2">
                        <h1>Страница Пользователя</h1>
                        <ul class="list-group">
                            <li class="list-group-item bg-transparent">
                                <h3>О Пользователе</h3>
                            </li>
                            <li class="list-group-item border-top">
                                <table class="table table-striped table-borderless border-top mt-3 mb-5">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Имя</th>
                                        <th>Фамилия</th>
                                        <th>Возраст</th>
                                        <th>Почта</th>
                                        <th>Роли</th>
                                        <th>Изменить</th>
                                        <th>Удалить</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th scope="row">
                                        <td><a th:text="${currentUser.getFirstName()}"
                                               target="_blank"></a></td>
                                        <td><a th:text="${currentUser.getLastName()}"
                                               target="_blank"></a></td>
                                        <td><a th:text="${currentUser.getUsername()}"
                                               target="_blank"></a></td>
                                        </th>
                                    </tr>
                                    </tbody>
                                </table>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!--
<div class="row ">
    <div class="col-3 bg-secondary " >
        <ul class="nav flex-column nav-pills  h-100" id="v-pills-tab" role="navigation" aria-orientation="vertical">
            <!!--- <div sec:authorize="hasRole('ADMIN')">

            <li class="nav-item" sec:authorize="hasRole('ADMIN')"><a href="#admin" class="nav-link"
                                                                     th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? active : ''"
                                                                     data-bs-toggle="tab">Админка</a></li>
            <!!-- </div>
            <!!--  <div sec:authorize="hasRole('USER')">
            <li class="nav-item" sec:authorize="hasRole('USER')"><a href="#user" class="nav-link"
                                                                    th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : active"
                                                                    data-bs-toggle="tab">Моя страница</a></li>
            <!!--  </div>
        </ul>
    </div>
    <div class="col-9 ">
        <div class="tab-content">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="admin"
                     th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : 'd-none'">
                    <h1>Панель Администратора</h1>
                    <div class="container mt-5">
                        <ul class="nav nav-tabs mt-5">
                            <li class="nav-item"><a href="#home" class="nav-link active"
                                                    data-bs-toggle="tab">Список Пользователей</a></li>
                            <li class="nav-item"><a href="#aboutus" class="nav-link"
                                                    data-bs-toggle="tab">Новый пользователь</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="home">

                                <ul class="list-group">
                                    <li class="list-group-item">
                                        <h3>Список пользователей</h3>
                                    </li>
                                    <li class="list-group-item border-top">
                                        <table class="table table-striped table-borderless border-top">
                                            <thead>
                                            <tr>
                                                <th>Имя</th>
                                                <th>Фамилия</th>
                                                <th>Группа</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="user : ${users}">
                                                <td>
                                                    <a th:text="${user.getFirstName()}"></a>
                                                    <!!--th:href="@{~/user/{id}(id=${user.getId()})}"
                                                </td>
                                                <td>
                                                    <a th:text="${user.getLastName()}"></a>
                                                </td>
                                                <td>
                                                    <a th:text="${user.getGroupId()}"></a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </li>
                                </ul>

                            </div>
                            <div class="tab-pane fade" id="aboutus">
                                <h3>About Us tab</h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut
                                    vel porta ex. Nam sit amet ex nec arcu consequat dictum eu nec
                                    velit. Sed mattis euismod malesuada. Donec mattis nibh a nulla
                                    dictum, in rutrum metus fringilla. Phasellus tincidunt euismod
                                    pellentesque. Curabitur eget est sagittis, pellentesque libero nec,
                                    ornare massa. Suspendisse non imperdiet sem, vel gravida odio.
                                    Pellentesque diam dui, venenatis quis metus et, luctus accumsan
                                    erat. Cras eget metus nisl. Vestibulum ante ipsum primis in
                                    faucibus orci luctus et ultrices posuere cubilia curae; Fusce
                                    tempor eget nisl id imperdiet. Cras ut convallis arcu, in tempor
                                    libero.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade show" id="user"  th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : 'active'">
                    <h1>Страница Пользователя</h1>
                    <a th:text="${currentUser.getFirstName()}"
                       target="_blank"></a>
                    <a th:text="${currentUser.getLastName()}"
                       target="_blank"></a>
                    <a th:text="${currentUser.getUsername()}"
                       target="_blank"></a>
                </div>
            </div>
        </div>
    </div>
</div>
--->

<!--
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Все Пользователи</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" th:href="@{~/admin/new}">Создать нового пользователя</a>
    </li>

</ul>

<div class="tab-content" id="myTabContent" >

    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

    </div>
</div>
-->

<!--<a th:href="@{~/admin/new}">Создать нового пользователя</a>-->
</body>
</html>





