<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>AllUsersList</title>

    <script
            src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
            crossorigin="anonymous"></script>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
            crossorigin="anonymous">
</head>
<body>
<div th:insert="header :: copy"></div>

<div class="row">
    <div class="col-3">
        <ul class="nav flex-column nav-pills" id="v-pills-tab" role="navigation" aria-orientation="vertical">
            <!-- <div sec:authorize="hasRole('ADMIN')"> -->

                <li class="nav-item" sec:authorize="hasRole('ADMIN')">   <a href="#admin" class="nav-link" th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? active : ''"
                                        data-bs-toggle="tab">Админка</a></li>
            <!-- </div> -->
            <!--  <div sec:authorize="hasRole('USER')"> -->
                <li class="nav-item" sec:authorize="hasRole('USER')">  <a href="#user" class="nav-link"   th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : active"
                                        data-bs-toggle="tab">Моя страница</a></li>
            <!--  </div> -->
         </ul>
     </div>
     <div class="col-9">
         <div class="tab-content">
             <div class="tab-content" id="v-pills-tabContent">
                 <div class="tab-pane fade show active" id="admin" th:classappend="${#authorization.expression('hasRole(''ROLE_ADMIN'')')} ? '' : 'd-none'">
                     <h1>Панель Администратора</h1>
                     <div class="container mt-5">
                         <ul class="nav nav-tabs mt-5">
                             <li class="nav-item"><a href="#home" class="nav-link active"
                                                     data-bs-toggle="tab">Список Пользователей</a></li>
                             <li class="nav-item"><a href="#aboutus" class="nav-link"
                                                     data-bs-toggle="tab">Новый пользователь</a></li>
                         </ul>
                         <div class="tab-content">
                             <div class="tab-pane fade show active" id="home">
                                 <h3>Список пользователей</h3>
                                 <table class="table">
                                     <thead>
                                     <tr>
                                         <th>Имя</th>
                                         <th>Фамилия</th>
                                         <th>Группа</th>
                                     </tr>
                                     </thead>
                                     <tbody>
                                     <tr th:each="user : ${users}">
                                         <td>
                                             <a th:text="${user.getFirstName()}"
                                                target="_blank"></a> <!--th:href="@{~/user/{id}(id=${user.getId()})}" -->
                                        </td>
                                        <td>
                                            <a th:href="@{~/user/{id}(id=${user.getId()})}"
                                               th:text="${user.getLastName()}" target="_blank"></a>
                                        </td>
                                        <td>
                                            <a th:href="@{~/user/{id}(id=${user.getId()})}"
                                               th:text="${user.getGroupId()}" target="_blank"></a>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade" id="aboutus">
                                <h3>About Us tab</h3>
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut
                                    vel porta ex. Nam sit amet ex nec arcu consequat dictum eu nec
                                    velit. Sed mattis euismod malesuada. Donec mattis nibh a nulla
                                    dictum, in rutrum metus fringilla. Phasellus tincidunt euismod
                                    pellentesque. Curabitur eget est sagittis, pellentesque libero nec,
                                    ornare massa. Suspendisse non imperdiet sem, vel gravida odio.
                                    Pellentesque diam dui, venenatis quis metus et, luctus accumsan
                                    erat. Cras eget metus nisl. Vestibulum ante ipsum primis in
                                    faucibus orci luctus et ultrices posuere cubilia curae; Fusce
                                    tempor eget nisl id imperdiet. Cras ut convallis arcu, in tempor
                                    libero.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade show active" id="user">
                    <h3>About Us tab</h3>
                </div>
            </div>
        </div>
    </div>
</div>


<!--
<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Все Пользователи</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" th:href="@{~/admin/new}">Создать нового пользователя</a>
    </li>

</ul>

<div class="tab-content" id="myTabContent" >

    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

    </div>
</div>
-->

<br/>
<hr/>
<!--<a th:href="@{~/admin/new}">Создать нового пользователя</a>-->
</body>
</html>